<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

        <title>Racing Camel with BPM and Red Hat JBoss Fuse</title>

        <meta name="description" content="Summit 2015 lab">
        <meta name="author" content="Eric D. Schabell, Christina Lin">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/serif.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
                <section>
                    <div style="width: 1056px; height: 250px; color: white">
                        <h2>Workshop</h2>
                        <h3>Building a JBoss BPM Travel Agency</h3>
                    </div>
                    <div style="width: 1056px; height: 250px;">
                        <h5>
                            You have now completed your JBoss Fuse portion of this lab, all the needed microservices have
                            been deployed. Now we have everything we need... rules, processes, forms and microservices.
                            Let's take JBoss BPM Travel Agency it for a spin, shall we, and book our first trip?
                        </h5>
                    </div>
                </section>

                <section>
                    <h3>Lab 05 - Running JBoss BPM Travel Agency</h3>
				</section>

                <section data-background-color="white">
                    <div style="width: 1056px; height: 180px;">
                        <h2>Lab Goal</h2>
                        <h4>To build & deploy the project and complete a fraudulent payment with the JBoss BPM Travel Agency.</h4>
                    </div>
                    <div style="width: 1056px; height: 600px;">
                        <img src="images/bpmsuite-component-execution.png">
                    </div>
                </section>

                <section>
                    <div style="width: 1056px; height: 250px;">
                        <h2>Run JBoss Travel Agency</h2>
                        You can compare your project run to ours by clicking on the image below to view the video online...
                    </div>
                    <div style="width: 1056px; height: 300px;">
                        <a href="https://vimeo.com/ericschabell/bpms-fuse-travel-agency-integration-demo" style="color: red" target="_blank"><img src="images/microservices-video.png"></a>
                    </div>
                </section>

                <section>
                    <div  style="width: 1056px; height: 100px; float: right">
                        <h2>Ensure project builds</h2>
                    </div>
                    <ul>
                        <li>Before you build project, ensure there are no active deployments</li>
                        <li><code>Deploy -> Process Deployments</code></li>
                        <li>if exists an entry for <code>Special Trips Agency 2.0.0</code> then remove by clicking on mini icon <img src="images/bpms-workshop/image2-42.png" /></li>
                    </ul>
                    <div  style="width: 1056px; height: 500px; float: right">
                        <img src="images/bpms-workshop/image2-40.png" />
                        <img width="60%" src="images/bpms-workshop/image2-41.png" />
                        <img src="images/bpms-workshop/image2-43.png" />
                        <img width="60%" src="images/bpms-workshop/image2-44.png" />
                    </div>
                </section>
                <section>
                    <div  style="width: 1056px; height: 100px; float: right">
                        <h2>Ensure project builds</h2>
                    </div>
                    <ul>
                        <li>right pane -> <code>OPEN PROJECT EDITOR -> BUILD (top right) -> BUILD & DEPLOY</code></li>
                        <li><code>(should see green pop-up 'Build Successful')</code></li>
                    </ul>
                    <div  style="width: 1056px; height: 500px; float: right">
                        <img src="images/bpms-workshop/image3-36.png" />
                    </div>
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Now we can examine our deployed process definition</li>
                        <li><code>Project Authoring -> Process Mangement -> Process Definitions</code></li>
                        <li>View definition details, click on the <i>specialtripsagencyprocess</i></li>
                    </ul>
                    <img src="images/bpms-workshop/image5-01.png">
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>An overview of the various details is shown</li>
                        <li>You can start a process instance from here by clicking the <i>New Instance</i> button</li>
                        <li>But we will use the external web application:</li>
                        <ul>
                            <li><a href="http://localhost:8080/external-client-ui-form-1.0" style="color: red" target="_blank">http://localhost:8080/external-client-ui-form-1.0</a></li>
                        </ul>
                    </ul>
                    <img src="images/bpms-workshop/image5-02.png">
                </section>

                <section>
                    <div style="width: 1056px; height: 350px">
                        <h2>Run JBoss Travel Agency</h2>
                        <ul>
                            <li>Fill in form, only modify these fields:</li>
                            <ul>
                                <li><code>Applicant Name: [your name]</code></li>
                                <li><code>Email Address: [your@email.com]</code></li>
                                <li><code>Number Of Travelers: 2</code></li>
                                <li><code>Preferred Date Of Arrival: 2015-06-28</code></li>
                                <li><code>Preferred Date Of Departure: 2015-06-30</code></li>
                            </ul>
                        </ul>
                    </div>
                    <div style="width: 1056px; height: 300px; color: white" align="right">
                        <img src="images/bpms-workshop/image5-03.png">
                    </div>
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Submit your travel request (click on button)</li>
                        <li>This uses the RESTAPI to start your process instance, returning a number that applications
                            use to continue further intereacitons with this instance.</li>
                    </ul>
                    <img src="images/bpms-workshop/image5-04.png">
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li><code>Project Authoring -> Process Mangement -> Process Instances</code></li>
                        <li>View both running (ACTIVE) and completed sub-process (COMPLETED) to see your instance</li>
                    </ul>
                    <img src="images/bpms-workshop/image5-05.png">
                    <img src="images/bpms-workshop/image5-06.png">
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>View by clicking on completed <code>calculatepriceprocess</code></li>
                        <li>View tabs on right pane for details, variables, logs, etc.</li>
                    </ul>
                    <img src="images/bpms-workshop/image5-07.png">
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>click on <code>OPTIONS -> PROCESS MODEL</code> to view path taken</li>
                        <li>the grey path is where the process went, here we see the validation, discount and total
                            pricing were calculated before retracting our facts from memory and exiting this sub-process</li>
                    </ul>
                    <img src="images/bpms-workshop/image5-08.png">
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Now lets examine our progress in the main process</li>
                        <li>View by clicking on active <code>specialtripsagencyprocess</code></li>
                        <li>View tabs on right pane for details, variables, logs, etc.</li>
                    </ul>
                    <img src="images/bpms-workshop/image5-09.png">
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Click on <code>OPTIONS -> PROCESS MODEL</code> to view path, resize process with top right button on menu bar</li>
                        <li>The grey path is where the process went, here we see the sub-flow calculated pricing, now
                            waiting on <code>Employee Booking</code> review task, so let's process a task!</li>
                    </ul>
                    <img src="images/bpms-workshop/image5-10.png">
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Open the task list to view waiting user tasks</li>
                        <li><code>Project Authoring -> Tasks -> Tasks List</code></li>
                        <img src="images/bpms-workshop/image5-11.png">
                        <li>Our task is in the <i>Active</i> and <i>Group</i> lists until claimed</li>
                    </ul>
                    <img src="images/bpms-workshop/image5-12.png">
                    <img src="images/bpms-workshop/image5-13.png">
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Click on task to open the <code>Employee Booking</code> task</li>
                        <li>The right pane opens with our task form, but first must <code>CLAIM</code> it, click button at bottom</li>
                    </ul>
                    <img src="images/bpms-workshop/image5-14.png">
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Note that the task is no longer available for <code>GROUP</code> to claim</li>
                        <li>Task is now in your <code>PERSONAL</code> list, just for you to work on</li>
                    </ul>
                    <img src="images/bpms-workshop/image5-15.png">
                    <img src="images/bpms-workshop/image5-16.png">
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>We will now confirm the booking by filling in:</li>
                        <ul>
                            <li><code>Option 2: check box</code></li>
                            <li><code>CC Number: 1234567890</code></li>
                            <li><code>Expiry Date: 05/18</code></li>
                            <li><code>Name: your-name</code></li>
                        </ul>
                    </ul>
                    <img src="images/bpms-workshop/image5-17.png">
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Click on <code>COMPLETE</code> button to submit task form.</li>
                    </ul>
                    <img src="images/bpms-workshop/image5-18.png">
                </section>

                <section>
                    <div style="width: 1056px; height: 150px">
                        <h2>Run JBoss Travel Agency</h2>
                    </div>
                    <div style="width: 1056px; height: 600px">
                        <ul>
                            <li>The task will complete, presented empty task list</li>
                            <img src="images/bpms-workshop/image5-20.png">
                            <li>Now we can go back and view the completed process instance(s)</li>
                            <li><code>Process Management -> Process Instances</code></li>
                        </ul>
                        <div align="right">
                            <img src="images/bpms-workshop/image5-19.png">
                        </div>
                    </div>
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>The initial view is empty as you are looking at <i>Active</i> process instances</li>
                        <img src="images/bpms-workshop/image5-21.png">
                        <li>We need the <i>Completed</i> instances, you should have three</li>
                        <img src="images/bpms-workshop/image5-22.png">
                    </ul>
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Here we selected process instance with <i>ID 1</i></li>
                        <li>There are various details we can examine, but we will open the process image</li>
                        <img src="images/bpms-workshop/image5-23.png">
                    </ul>
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Note the path taken is grey and we see that it completed after payment processing</li>
                        <li>This process contains fraud detection based on credit cards starting with <code>'1234'</code></li>
                        <li>As we submit such a card, did the payment get rejected? Let's go see...</li>
                        <img src="images/bpms-workshop/image5-24.png">
                    </ul>
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Let's view process instance with <i>ID 3</i></li>
                        <li>There are various details we can examine, but we will open the process image</li>
                        <img src="images/bpms-workshop/image5-25.png">
                    </ul>
                </section>

                <section>
                    <div style="width: 1056px; height: 300px">
                        <h2>Run JBoss Travel Agency</h2>
                        <ul>
                            <li>Note the path taken is grey and we see that it booked the Flight and Hotel before checking
                                for a fraudulant payment method, which it found, causing the route with compensation (rollback)
                                to be taken, signalling Flight and Hotel compensation service tasks.</li>
                        </ul>
                    </div>
                    <div style="width: 1056px; height: 400px">
                        <img src="images/bpms-workshop/image5-26.png">
                    </div>
                </section>

                <section>
                    <div style="width: 1056px; height: 200px">
                        <h2>Run JBoss Travel Agency</h2>
                        <ul>
                            <li>Can also examine the server log (console where you started JBoss BPM Suite server) to
                            see the compensation (rollback) activites:</li>
                        </ul>
                    </div>
                    <div style="width: 1056px; height: 400px">
                        <img src="images/bpms-workshop/image5-27.png">
                    </div>
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Now lets start a new process instance (remember how?) and not complete it</li>
                        <li>We will leave it to make the BAM (Business Activity Monitoring) dashboards interesting</li>
                        <li>After starting a new process, open <i>Process & Task Dashboard</i></li>
                        <li><code>Dashboards -> Process & Task Dashboard</code></li>
                    </ul>
                    <div align="right">
                        <img src="images/bpms-workshop/image5-28.png">
                    </div>
                </section>

                <section>
                    <div style="width: 1056px; height: 170px">
                        <h2>Run JBoss Travel Agency</h2>
                        <ul>
                            <li>The dashboard shows the information on process and tasks, click on specialtripsagency
                                to drill down on active instances...</li>
                        </ul>
                    </div>
                    <div style="width: 1056px; height: 400px">
                        <img src="images/bpms-workshop/image5-29.png">
                    </div>
                </section>

                <section>
                    <div style="width: 1056px; height: 170px">
                        <h2>Run JBoss Travel Agency</h2>
                        <ul>
                            <li>Note there are many more data overviews, feel free to browse around...</li>
                        </ul>
                    </div>
                    <div style="width: 1056px; height: 400px">
                        <img src="images/bpms-workshop/image5-30.png">
                    </div>
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Extra credit: find and examine the main process service tasks to see how your JBoss Fuse
                        microservices have been integrated:</li>
                    </ul>
                    <div align="right">
                        <img src="images/bpms-workshop/image5-31.png">
                    </div>
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Extra credit: find and examine the rule in the script task that detects and triggers fraud
                            for credit cards staring with '1234' (hint - look in compensation sub-process):</li>
                    </ul>
                    <div align="right">
                        <img src="images/bpms-workshop/image5-32.png">
                    </div>
                </section>

                <section>
                    <h2>Run JBoss Travel Agency</h2>
                    <ul>
                        <li>Extra credit: find and examine the user task 'Employee Booking' to see how form data is
                            mapped to the bookings task form (hint - open the task form too):</li>
                    </ul>
                    <div align="right">
                        <img src="images/bpms-workshop/image5-33.png">
                    </div>
                </section>

                <section>
                    <div style="width: 1056px; height: 250px;">
                        <h2>Run JBoss Travel Agency</h2>
                        You can compare your project run to ours by clicking on the image below to view the video online...
                    </div>
                    <div style="width: 1056px; height: 300px;">
                        <a href="https://vimeo.com/ericschabell/bpms-fuse-travel-agency-integration-demo" style="color: red" target="_blank"><img src="images/microservices-video.png"></a>
                    </div>
                </section>

                <section data-background="images/jteimages/image42.png" data-background-position="top">
                    <div style="width: 1056px; height: 450px;" align="right">
                    </div>
                    <div style="width: 1156px; height: 100px;" align="right">
                        <div style="width: 500px; height: 100px;" align="left">
                            Eric D. Schabell<br>
                            JBoss Technology Evangelist<br>
                            <a href="http://twitter.com/ericschabell" target="_blank">@ericschabell</a><br>
                            <a href="http://schabell.org" target="_blank">http://schabell.org</a>
                        </div>
                    </div>
                </section>

                <section>
                    <div style="width: 1056px; height: 200px; color: white">
                        <img height="150" width="99%" src="images/references.jpg">
                    </div>
                    <div style="width: 1056px; height: 500px">
                        <ul>
                            <li>Racing Camel with BPM and Red Hat JBoss Fuse</li>
                            <ul>
                                <li><a href="https://github.com/eschabell/summit-racing-camel-with-jboss-bpm-fuse" style="color: red" target="_blank">Get this workshop from Github</a></li>
                                <li><a href="https://github.com/jbossdemocentral/bpms-fuse-travel-agency-integration-demo" style="color: red" target="_blank">Travel Agency Microservices project</a></li>
                                <li><a href="http://bpmworkshop-onthe.rhcloud.com" style="color: red" target="_blank">Free online BPM workshops</a></li>
                                <li><a href="http://www.schabell.org/2015/05/microservices-migration-story-with-jboss-bpm-travel-agency-video.html" style="color: red" target="_blank">Video of Travel Agency Microservices</a></li>
                                <li><a href="http://wei-meilin.blogspot.nl/2015/05/integration-project-micro-services_22.html" style="color: red" target="_blank">Series howto build JBoss Fuse Microservices</a></li>
                            </ul>
                        </ul>
                    </div>
                </section>

                <section data-background="images/rh-images/rh-bg-start.jpg" data-background-size="cover" data-background-position="center bottom">
                    <div style="width: 1056px; height: 450px; color: white">
                        <h2 style="color: white;">Racing Camel with</h2>
                        <h2 style="color: white;">BPM and Red Hat JBoss Fuse</h2>
                        <h5 style="color: white;">(Thanks for attending!)</h5>
                    </div>
                    <div style="width: 600px; height: 300px; text-align: left; color: white">
                        Eric D. Schabell & Christina Lin<br/>
                        JBoss Technology Evangelists<br/>
                    </div>
                </section>
            </div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
